---
meta:
  title: useFormContext (Remix Validated Form)
---

import { PropHeader } from "~/components/PropHeader";

<PropHeader
  variant="h1"
  prop="useFormContext"
  type="() => FormContext"
/>

Uses the context api to return the value of the current form context.
This should be used within the context of a `ValidatedForm`.

_Note:_ It is generally recommended to use more specific hooks rather than accessing the form context directly.
It is provided for use in more complex or advanced cases.

#### Usage

_Correct_: This will work because it's used within the context of a `ValidatedForm`.

```tsx
const Button = () => {
  const { isSubmitting } = useFormContext();
  return (
    <Button disabled={isSubmitting}>
      {isSubmitting ? "Submitting..." : "Submit"}
    </Button>
  );
};

const FormComponent = () => {
  return (
    <ValidatedForm>
      <input name="name" />
      <Button>Submit</Button>
    </ValidatedForm>
  );
};
```

_Incorrect_: This will not work because it's used outside the `ValidatedForm`.

```tsx
const FormComponent = () => {
  const { isSubmitting } = useFormContext();

  return (
    <ValidatedForm>
      <input name="name" />
      <Button disabled={isSubmitting}>
        {isSubmitting ? "Submitting..." : "Submit"}
      </Button>
    </ValidatedForm>
  );
};
```

## FormContext

<PropHeader
  prop="fieldErrors"
  type="Record<string, string>"
/>

Contains all the validation errors in the form.
The keys of the object are the field names and values are the error messages.
If the form contains nested data, the field errors are _not_ nested --
the keys of the object will be the same as the name passed to the input itself.
(e.g. `todos[1].title`)

<PropHeader prop="isValid" type="boolean" />

Whether or not the form valid.

<PropHeader
  prop="clearError"
  type="(...fieldNames: string[]) => void"
/>

Clear the errors from all the specified fields.

<PropHeader
  prop="validateField"
  type="(fieldName: string) => Promise<string | null>"
/>

Performs validation on the specified field and populates `fieldErrors` if there is an error.
Also returns the error message if there is an error.

<PropHeader prop="action" type="string | undefined" />

The value of the `action` prop passed to the `ValidatedForm` component.
If no `action` prop is passed, this will be `undefined`.

<PropHeader prop="isSubmitting" type="boolean" />

Whether or not the form is currently submitting.

<PropHeader prop="hasBeenSubmitted" type="boolean" />

Whether or not a submit has been attempted.
This will be `true` after the first submit attempt, even if the form is invalid.
This resets when the form resets.

<PropHeader
  prop="defaultValues"
  type="Record<string, any>"
/>

The default values of the `ValidatedForm` component.
In cases where the user has javascript disabled,
this can sometimes be something other than what is passed into the `ValidatedForm` directly.

<PropHeader
  prop="touchedFields"
  type="Record<string, boolean>"
/>

Contains all the touched fields.
The keys of the object are the field names and values are whether or not the field has been touched.
If a field has not been touched at all, the value will be `undefined`.
If you set touched to `false` manually, then the value will be `false`.

<PropHeader
  prop="setFieldTouched"
  type="(fieldName: string, touched: boolean) => void"
/>

Manually set the `touched` state of the specified field.
